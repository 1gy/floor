import{j as e,r as l,B as t,l as y,L as v,m as w,n as u,F as b,d as r,o as I,I as h,p,S as C,q as L,s as P,A as k,k as S}from"./vendor.10460ee6.js";import{P as T}from"./Page.31d21bd3.js";import{u as B,a as G,b as x,c as M,d as V,C as z,P as A,e as F,V as O,f as R}from"./audio.2d9e8c3c.js";import"./index.e94d048a.js";const j=()=>e(t,{sx:{width:"100%",height:"100%",position:"relative"},children:e(t,{sx:{bgcolor:"rgba(0,0,0,0.2)",width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"},children:e(y,{})})}),D=({children:s})=>e(l.exports.Suspense,{fallback:e(j,{}),children:s}),$=()=>{const{musics:s}=B(),a=l.exports.useRef(null),n=G({size:s.length,parentRef:a,estimateSize:l.exports.useCallback(()=>70,[])}),[o,c]=x();return e(v,{ref:a,sx:{width:"100%",height:"100%",overflow:"auto"},children:e(t,{sx:{width:"100%",height:n.totalSize,position:"relative"},children:n.virtualItems.map(i=>e(w,{sx:{position:"absolute",top:0,left:0,width:"100%",height:`${i.size}px`,transform:`translateY(${i.start}px)`},onClick:()=>c(s[i.index]),selected:s[i.index].source===(o==null?void 0:o.source),children:e(u,{secondary:s[i.index].artist,sx:{textOverflow:"ellipsis"},primaryTypographyProps:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},secondaryTypographyProps:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:s[i.index].title})},i.key))})})},q=()=>{const[s,a]=x(),[n,o]=M(),{playing:c,play:i,pause:f}=V(s==null?void 0:s.source,n,!0),m=l.exports.useCallback((H,d)=>{typeof d=="number"&&o(d)},[]),g=l.exports.useCallback(()=>{a(null)},[]);return s?r(t,{bgcolor:"grey.100",sx:{pr:1},children:[e(I,{sx:{pt:1,pl:2},disableGutters:!0,secondaryAction:e(h,{onClick:g,children:e(z,{})}),children:e(u,{secondary:s.artist,children:s.title})}),r(p,{disableGutters:!0,sx:{ml:1,mr:1},variant:"dense",children:[e(h,{onClick:()=>c?f():i(),children:c?e(A,{}):e(F,{})}),r(C,{width:"100%",spacing:2,direction:"row",alignItems:"center",children:[e(O,{}),e(L,{min:0,max:1,step:.01,value:n,onChange:m}),e(R,{})]})]})]}):e(b,{})},U=()=>e(k,{position:"relative",children:e(p,{disableGutters:!0,sx:{ml:2},variant:"dense",children:e(S,{variant:"h6",color:"inherit",children:"FLOOR Library"})})}),Y=()=>e(t,{children:"filter"}),E=()=>(P(),e(T,{children:r(t,{display:"flex",flexDirection:"column",width:"100%",height:"100%",children:[e(t,{children:e(U,{})}),r(t,{flexGrow:"1",display:"flex",overflow:"hidden",children:[r(t,{width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",height:"100%",children:[e(t,{sx:{flexGrow:1,overflow:"hidden"},children:e(D,{children:e($,{})})}),e(t,{children:e(q,{})})]}),e(t,{flexGrow:1,bgcolor:"grey.100",display:{xs:"none",sm:"none"},children:e(Y,{})})]})]})})),W=()=>e(E,{});export{W as LibraryRoutes};
